<head>
    <title>Baseball</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
    {{> chat}}
</body>

<template name="chat">
    <div class="container">
        {{#if roomSet}}
        <div class="row">
            <div class="col-md-8">
                {{> messages}}
            </div>
            <div class="col-md-2">
                <span class="pull-left">
                    <button class="btn btn-md btn-warning leaveChat">Leave chat</button>
                </span>
            </div>
        </div>
        {{else}}
            {{> main}}
        {{/if}}

    </div>
</template>

<template name="input">
    <div class="input-group">
        <input id="msg" type="text" class="form-control input-md" placeholder="Type your message here..." />
        <span class="input-group-btn">
            <button class="btn btn-info btn-md sendMsg" id="btn-chat">
                Send</button>
        </span>
    </div>
</template>

<template name="messages">
    <h3>
        Dugout {{roomname}}
    </h3>
    <div class="panel panel-primary">
        <div id="messages" class="panel-body" style="background-color: #ffffff; border: 1px solid darkgray; max-height: 300px; overflow: auto">
            <ul class="chat">
                {{#each messages}}
                    {{> message}}
                {{/each}}
            </ul>
        </div>
        <div class="panel-footer">
            {{> input}}
        </div>
    </div>
        
</template>

<template name="message">
    <li>
        <div class="chat-body clearfix">
            <div class="header">
                <strong class="primary-font">{{user}}</strong>
            </div>
            <p>
                {{msg}}
            </p>
        </div>
    </li>
</template>

<template name="rooms">
    <h4>Join a room:</h4>
    <ul>
    {{#each rooms}}
        {{> room}}
    {{/each}}
    </ul>
</template>

<template name="room">
    <li style="cursor: pointer; {{roomstyle}}">{{roomname}}</li>
</template>

<template name="main">
    <div class="hero-unit">
        <div class="pull-right">
            <small>
                ({{pitchers}} pitchers waiting, {{listeners}} listeners waiting, {{roomCount}} current rooms matched)
            </small>
        </div> 
        <h1>
            Welcome to Baseball 
        </h1>
        <p>Pitch us your problems or swing and listen.</p>
        
        <button class="btn btn-lg btn-success pitch">Pitch</button>
        <button class="btn btn-lg btn-info swing">Listen</button>
<!-- 
        {{#each rooms}}
            <p>{{roomname}}</p>
        {{/each}} -->
    </div>
</template>